@use "../base/_variables"as *;

nav {
  max-width: 100vw;
  max-width: 100dvw;
}

.navbar {
  overflow: hidden;
  background-clip: content-box;
  -webkit-background-clip: text;
  filter:
    var(--shadow-layer1) var(--shadow-layer2) var(--shadow-layer3);
  background-color: var(--clr-mainBG);
  background: $image-background-texture;
  border-style: solid;
  border-color: var(--clr-border);
  border-radius: var(--border-radius);
  border-width: var(--border-width);
  border-image: $image-border-button;
  background-blend-mode: multiply;
  background-repeat: repeat;
  display: flex;
}

.navbar> :last-child {
  margin-inline-start: auto; // position the LINKS(lastchild) to right
}

.logo-label {
  display: flex;
  justify-content: center;
  align-items: center;
}

.nav-label {
  img {
    height: clamp(2rem, 4vw, 4rem);
    margin-inline: clamp(0.5rem, 2vw, 2rem);
  }
}

.nav_links {
  display: flex;
  gap: clamp(1rem, 2vw, 2rem);
}

.nav_links li {
  text-align: center;
  padding: clamp(0.25rem, 1vw, 0.5rem);
  background: $image-background-texture;
  border-style: solid;
  border-radius: var(--border-radius);
  border-width: var(--border-width);
  border-image: $image-border-button;
}

.nav-toggle {
  display: none;
}

#nav-toggle:checked+.navbar .nav_links,
#nav-toggle:hover+.navbar .nav_links,
#nav-toggle:focus+.navbar .nav_links {
  display: block;
}

@media screen and (max-width: 768px) {
  .logo-label {
    justify-content: left;
  }

  .nav_links {
    display: flex;
    flex-direction: column;
    position: relative;
    width: 100%;
    opacity: 0;
    height: 0;
    overflow: hidden;
    transition-property: height, opacity;
    transition-duration: 500ms;
    transition-behavior: allow-discrete;
  }

  .nav_links li {
    position: relative;
    translate: -100% 0;
    opacity: 0;
    transition-property: opacity, translate;
    transition-duration: 500ms;
    transition-behavior: allow-discrete;
    transition-timing-function: cubic-bezier(.47,1.64,.41,.8);
  }

  #nav-toggle:checked~.nav_links {
    height: 19rem;
    opacity: 1;
  }

  #nav-toggle:checked~.nav_links li {
    translate: 0 0;
    opacity: 1;
    @starting-style {
      opacity: 0;
      translate: 200% 0;
    }
  }

  @for $i from 1 through 4 {
    .nav_links li:nth-child(#{$i}) {
      transition-delay: (5 - $i) * 50ms;
    }
  }


  .navbar {
    display: flex;
    flex-direction: column;
  }
}